{% extends "base.html" %}
{% load static %}

{% block title %}Dashboard - In√≠cio{% endblock %}

{% block content %}
<div class="p-4">
  <div class="container mt-3">
    <div class="row justify-content-center text-center g-3">
      
      <div class="col-12 col-md-4">
  <div id="card_hover_patri" class="bg-info bg-opacity-25 text-dark p-3 rounded h-100">
    <a class="nav-link text-dark position-relative d-block" href="{% url 'patrimonios' %}" style="height: 100%;">
      <h4 class="card-title">Patrim√¥nios</h4>
      <div class="card-quantity" id="patrimonios-quantity">0</div>  <!-- NOVO -->
      <div class="card-icon">üèõÔ∏è</div>
    </a>
  </div>
</div>

<div class="col-12 col-md-4">
  <div id="card_hover_uni" class="bg-success text-white p-3 rounded h-100">
    <a class="nav-link text-dark position-relative d-block" href="{% url 'unidade' %}" style="height: 100%;">
      <h4 class="card-title">Unidades</h4>
      <div class="card-quantity" id="unidades-quantity">0</div>  <!-- NOVO -->
      <div class="card-icon">üë§</div>
    </a>
  </div>
</div>

<div class="col-12 col-md-4">
  <div id="card_hover_pend" class="bg-warning p-3 rounded h-100">
    <a href="#" class="nav-link text-dark position-relative d-block" style="height: 100%;" id="abrirModalPendentes">
      <h4 class="card-title">Pendentes</h4>
      <div class="card-quantity" id="pendentes-quantity">0</div>
      <div class="card-icon">‚ö†Ô∏è</div>
    </a>
  </div>
</div>


<div class="container mt-5 pizza-shadow" style="max-width: 600px;">
  <div class="card shadow-sm" style="background-color:  #87898b; border: none;">
    <div class="card-header pizza-header" style="background-color: #87898b ; border-bottom: none;">
      <h5 class="card-title mb-0 text-light">Distribui√ß√£o de Patrim√¥nios</h5>
    </div>
    <div class="card-body text-light" style="background-color: #9da1a5;">
      <canvas class="txt_l" id="patrimonioPieChart" width="400" height="400" style="max-width: 100%; height: auto;"></canvas>
    </div>
  </div>
</div>

<div class="modal fade" id="modalPendentesRapido" tabindex="-1" aria-labelledby="modalPendentesRapidoLabel" aria-hidden="true">
  <div class="modal-dialog">
    <form id="formPendentesRapido" class="modal-content" novalidate>
      <div class="modal-header">
        <h5 class="modal-title" id="modalPendentesRapidoLabel">Editar C√≥digo do Patrim√¥nio Pendente</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
      </div>
      <div class="modal-body">
        <p id="pendenteInfo" class="mb-3"></p>
        <div class="mb-3">
          <label for="inputCodigoRapido" class="form-label">C√≥digo (m√≠nimo 13 caracteres)</label>
          <input type="text" id="inputCodigoRapido" class="form-control" required minlength="13" />
          <div class="invalid-feedback">Informe um c√≥digo v√°lido com pelo menos 13 caracteres.</div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="submit" class="btn btn-primary">Salvar</button>
      </div>
    </form>
  </div>
</div>


<script src="{% static 'js/dashboard.js' %}"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{% static 'js/index.js' %}"></script>
{% endblock %}
